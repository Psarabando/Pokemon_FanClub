<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Pokémon FanClub | Sistema</title>
    <link rel="stylesheet" href="css/sistema.css">
    <link rel="icon" href="midias/pokeball.png">
    <script src=""></script>


</head>
<body>

    <div class="introducao">
        <div class="header">
            <a href="index.html">
                <div class="voltar">
                    <img src="https://cdn-icons-png.flaticon.com/128/271/271218.png" style="height: 30px;">
                    Voltar
                </div>
            </a>
        </div>
        <div class="cardIntroducao">
            <div class="acima">
                <div class="boxHorizontal">
                    <h1>Toda jornada possui um começo</h1>
                    <h2>Escolha um Pokémon para ser seu companheiro</h2>
                </div>
            </div>
            <div class="abaixo">

                <div class="boxVertical">
                    <img src="https://archives.bulbagarden.net/media/upload/f/fb/0001Bulbasaur.png" style="width: 200px;height: 200px;">
                    <span class="tituloPokemon">Bulbasaur Nº 001</span>
                    <span class="descricao">Pokémon Semente</span>
                    <div class="tipagem">
                        <div class="boxPlanta">Planta</div>
                        <div class="boxVeneno">Veneno</div>
                    </div>

                    <button class="button_bulbasaur" onclick="escolherBulbasaur()">Eu escolho você!</button>
                </div>

                <div class="boxVertical">
                    <img src="https://archives.bulbagarden.net/media/upload/thumb/2/27/0004Charmander.png/250px-0004Charmander.png" style="width: 200px; height: 200px;">
                    <span class="tituloPokemon">Charmander Nº 004</span>
                    <span class="descricao">Pokémon Lagarto</span>
                    <div class="tipagem">
                        <div class="boxFogo">Fogo</div>
                    </div>
                    <button class="button_charmander" onclick="escolherCharmander()">Eu escolho você!</button>
                </div>

                <div class="boxVertical">
                    <img src="https://archives.bulbagarden.net/media/upload/thumb/5/54/0007Squirtle.png/250px-0007Squirtle.png" style="width: 200px; height: 200px;">
                    <span class="tituloPokemon">Squirtle Nº 007</span>
                    <span class="descricao">Pokémon Tartaruga Pequena</span>
                    <div class="tipagem">
                        <div class="boxAgua">Água</div>
                    </div>
                    <button class="button_squirtle" onclick="escolherSquirtle()">Eu escolho você!</button>
                </div>

            </div>
        </div>
        <audio autoplay loop controls> 
            <source src="./midias/pokmon.mp3" type="audio/mp3" >
        </audio>
    </div>

<div class="container" id="container">

    <div class="telaBatalha">
        <div class="telaLuta">
            <div class="ladoEsquerdo">
                <div class="vidaInimigo">
                    <div class="caixa">
                        Rattata Level: 5
                        <div class="hp">
                            HP:<div class="hpInimigo" id="hpInimigo"></div>
                        </div>
                    </div>
                </div>
                <div class="pokemon">
                    <img src="https://art.pixilart.com/thumb/7e8988e96886ddd.png" style="width: 300px;">
                </div>
            </div>
            <div class="ladoDireito">
                <div class="inimigo">
                    <img src="https://64.media.tumblr.com/tumblr_mb7ajc09St1rfjowdo1_500.gif" style= "width: 200px;">
                </div>
                <div class="vidaPokemon">
                    <div class="caixa">
                        Bulbasaur Level: 5
                        <div class="hp">
                            HP:<div class="hpAliado" id="hpAliado"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="hub">
            <div class="ataques">
                <div class="box">
                    <button onclick="tackle_b()">Tackle</button>
                    <button onclick="growl_b()">Growl</button>
                </div>
                <div class="box">
                    <button onclick="absorb_b()">Absorb</button>
                </div>
            </div>
            <div class="historico" id="div_historico"></div>
        </div>
    </div>

</div>

</body>
</html>

<script>

    function escolherBulbasaur() {
        container.style.display='flex';
    }

    function escolherCharmander() {

    }

    function escolherSquirtle() {
        
    }

    
    // Ataques do Bulbasaur

    var vidaAliado = 200;
    var vidaInimigo = 200;
    var efeitoGrowl = false;

    function tackle_b() {

        var mensagem = 'Bulbasaur usou Tackle!<br>';
        
        var chanceCritico = 1 + parseInt(Math.random() * (7 + 1));
        
        if (chanceCritico == 8) {
            var dano = 30;
            vidaInimigo -= dano;
            mensagem += `Foi um golpe com acerto crítico!<br>`
            hpInimigo.style.width = `${vidaInimigo}px`;
        } else {
            var dano = 20;
            vidaInimigo -= dano;
            hpInimigo.style.width = `${vidaInimigo}px`;
        }
        
        div_historico.innerHTML += mensagem;

        turnoInimigo();

    }

    function growl_b() {

        if (efeitoGrowl == false) {
            var mensagem = 'Bulbasaur usou Growl!<br> O ataque de Rattata foi reduzido!<br>';
            div_historico.innerHTML += mensagem;
            efeitoGrowl = true;
            turnoInimigo();
        } else {
            var mensagem = 'Bulbasaur já utilizou Growl, ele não pode utilizar novamente<br>';
            div_historico.innerHTML += mensagem;
        }

    }

    function absorb_b() {
        var dano = 15;
        vidaInimigo -= dano;
        hpInimigo.style.width = `${vidaInimigo}px`;
        
        if (hpAliado.style.width < `200px`){
            var cura = 10;
            vidaAliado += cura;
            hpAliado.style.width = `${vidaAliado}px`
        }

        var mensagem = 'Bulbasaur usou Absorb!<br>';
        div_historico.innerHTML += mensagem;
        turnoInimigo();
    }

    // Ataques do Charmander


    // Ataques do Squirtle


    // Ataques do adversário

    var efeitoTailWhipInimigo = false;

    function turnoInimigo() {

        var ataqueInimigo = 1 + parseInt(Math.random() * (2 + 1));
        var mensagem = '';
        
        if (ataqueInimigo == 1) {

            var dano = 15;
            vidaAliado -= dano;
            hpAliado.style.width = `${vidaAliado}px`;
            mensagem = 'Rattata atacou usando Tackle!<br><br>';

        } else if (ataqueInimigo == 2) {

            if (efeitoTailWhipInimigo == false) {
                efeitoTailWhipInimigo = true;
                mensagem = `Rattata atacou usando Tail Whip!<br>
                A defesa de seu pokémon foi reduzida!<br><br>`;
            } else {
                mensagem = `Rattata utilizou novamente Tail Whip!<br>
                O ataque não surtiu efeito em seu pokémon!<br><br>`;
            }

        } else if (ataqueInimigo == 3) {

            mensagem = `Rattata atacou usando Fury Swipes!<br>
            Rattata atingiou ${a} vezes seu pokémon!<br><br>`;

        }
            div_historico.innerHTML += mensagem;
    }
</script>