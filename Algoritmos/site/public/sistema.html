<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Pokémon FanClub | Sistema</title>
    <link rel="stylesheet" href="css/sistema.css">
    <link rel="icon" href="midias/pokeball.png">
    <script src=""></script>


</head>
<body>

    <!-- Container aonde será escolhido o pokémon do usuário -->

    <div class="introducao">
        <div class="header">
            <a href="index.html">
                <div class="voltar">
                    <img src="https://cdn-icons-png.flaticon.com/128/271/271218.png" style="height: 30px;">
                    Voltar
                </div>
            </a>
        </div>
        <div class="cardIntroducao">
            <div class="acima">
                <div class="boxHorizontal">
                    <h1>Toda jornada possui um começo</h1>
                    <h2>Escolha um Pokémon para ser seu companheiro</h2>
                </div>
            </div>
            <div class="abaixo">

                <div class="boxVertical">
                    <img src="https://archives.bulbagarden.net/media/upload/f/fb/0001Bulbasaur.png" style="width: 200px;height: 200px;">
                    <span class="tituloPokemon">Bulbasaur Nº 001</span>
                    <span class="descricao">Pokémon Semente</span>
                    <div class="tipagem">
                        <div class="boxPlanta">Planta</div>
                        <div class="boxVeneno">Veneno</div>
                    </div>

                    <button id="button_bulbasaur" class="button_bulbasaur" onclick="escolherBulbasaur()">Eu escolho você!</button>
                </div>

                <div class="boxVertical">
                    <img src="https://archives.bulbagarden.net/media/upload/thumb/2/27/0004Charmander.png/250px-0004Charmander.png" style="width: 200px; height: 200px;">
                    <span class="tituloPokemon">Charmander Nº 004</span>
                    <span class="descricao">Pokémon Lagarto</span>
                    <div class="tipagem">
                        <div class="boxFogo">Fogo</div>
                    </div>
                    <button id="button_charmander" class="button_charmander" onclick="escolherCharmander()">Eu escolho você!</button>
                </div>

                <div class="boxVertical">
                    <img src="https://archives.bulbagarden.net/media/upload/thumb/5/54/0007Squirtle.png/250px-0007Squirtle.png" style="width: 200px; height: 200px;">
                    <span class="tituloPokemon">Squirtle Nº 007</span>
                    <span class="descricao">Pokémon Tartaruga Pequena</span>
                    <div class="tipagem">
                        <div class="boxAgua">Água</div>
                    </div>
                    <button id="button_squirtle" class="button_squirtle" onclick="escolherSquirtle()">Eu escolho você!</button>
                </div>
            </div>
        </div>
    </div>

<!-- Container de batalha caso o escolhido seja o Bulbasaur -->

<div class="containerB" id="containerB">

    <div class="telaBatalha">
        <div class="telaLuta">
            <div class="ladoEsquerdo">
                <div class="vidaInimigo">
                    <div class="caixa">
                        Rattata Level: 5
                        <div class="hp">
                            HP:<div class="hpInimigoBulbasaur" id="hpInimigoBulbasaur"></div>
                        </div>
                    </div>
                </div>
                <div class="pokemon">
                    <img src="https://img.pokemondb.net/sprites/black-white/anim/back-normal/bulbasaur.gif" style="width: 200px; height: 200px;">
                </div>
            </div>
            <div class="ladoDireito">
                <div class="inimigo">
                    <img src="https://64.media.tumblr.com/tumblr_mb7ajc09St1rfjowdo1_500.gif" style= "width: 200px;">
                </div>
                <div class="vidaPokemon">
                    <div class="caixa">
                        Bulbasaur Level: 5
                        <div class="hp">
                            HP:<div class="hpBulbasaur" id="hpBulbasaur"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="hub">
            <div class="ataques">
                <div class="box">
                    <button onclick="tackle_b()">Tackle</button>
                    <button onclick="growl_b()">Growl</button>
                </div>
                <div class="box">
                    <button onclick="absorb_b()">Absorb</button>
                </div>
            </div>
            <div class="historico" id="div_historico_bulbasaur"></div>
        </div>
    </div>

</div>

<!-- Container de batalha caso o escolhido seja o Charmander -->

<div class="containerC" id="containerC">

    <div class="telaBatalha">
        <div class="telaLuta">
            <div class="ladoEsquerdo">
                <div class="vidaInimigo">
                    <div class="caixa">
                        Rattata Level: 5
                        <div class="hp">
                            HP:<div class="hpInimigoCharmander" id="hpInimigoCharmander"></div>
                        </div>
                    </div>
                </div>
                <div class="pokemon">
                    <img src="https://img.pokemondb.net/sprites/black-white/anim/back-normal/charmander.gif" style="width: 200px; height: 200px;">
                </div>
            </div>
            <div class="ladoDireito">
                <div class="inimigo">
                    <img src="https://64.media.tumblr.com/tumblr_mb7ajc09St1rfjowdo1_500.gif" style= "width: 200px;">
                </div>
                <div class="vidaPokemon">
                    <div class="caixa">
                        Charmander Level: 5
                        <div class="hp">
                            HP:<div class="hpAliado" id="hpAliado"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="hub">
            <div class="ataques">
                <div class="box">
                    <button onclick="">Tackle</button>
                    <button onclick="">Growl</button>
                </div>
                <div class="box">
                    <button onclick="">Absorb</button>
                </div>
            </div>
            <div class="historico" id="div_historico_charmander"></div>
        </div>
    </div>

</div>

<!-- Container de batalha caso o escolhido seja o Squirtle -->

<div class="containerS" id="containerS">

    <div class="telaBatalha">
        <div class="telaLuta">
            <div class="ladoEsquerdo">
                <div class="vidaInimigo">
                    <div class="caixa">
                        Rattata Level: 5
                        <div class="hp">
                            HP:<div class="hpInimigoSquirtle" id="hpInimigoSquirtle"></div>
                        </div>
                    </div>
                </div>
                <div class="pokemon">
                    <img src="https://img.pokemondb.net/sprites/black-white/anim/back-normal/squirtle.gif" style="width: 200px; height: 200px;">
                </div>
            </div>
            <div class="ladoDireito">
                <div class="inimigo">
                    <img src="https://64.media.tumblr.com/tumblr_mb7ajc09St1rfjowdo1_500.gif" style= "width: 200px;">
                </div>
                <div class="vidaPokemon">
                    <div class="caixa">
                        Squirtle Level: 5
                        <div class="hp">
                            HP:<div class="hpAliado" id="hpAliado"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="hub">
            <div class="ataques">
                <div class="box">
                    <button onclick="">Tackle</button>
                    <button onclick="">Growl</button>
                </div>
                <div class="box">
                    <button onclick="">Absorb</button>
                </div>
            </div>
            <div class="historico" id="div_historico_squirtle"></div>
        </div>
    </div>

</div>

</body>
</html>

<script>

    // Seleção e cadastro de pokémon

    function escolherBulbasaur() {
        containerB.style.display='flex';
        document.getElementById("button_squirtle").disabled = true;
        document.getElementById("button_charmander").disabled = true;
    }

    function escolherCharmander() {
        containerC.style.display='flex';
        document.getElementById("button_squirtle").disabled = true;
        document.getElementById("button_bulbasaur").disabled = true;
    }

    function escolherSquirtle() {
        containerS.style.display='flex';
        document.getElementById("button_bulbasaur").disabled = true;
        document.getElementById("button_charmander").disabled = true;
    }

    
    // Ataques do Bulbasaur

    var vidaBulbasaur = 200;
    var vidaInimigo_bulbasaur = 200;
    var efeitoGrowl = false;

    function tackle_b() {

        var mensagem = 'Bulbasaur usou Tackle!<br>';
        div_historico_bulbasaur.innerHTML += mensagem;

        setTimeout(() => {
            var chanceCritico = 1 + parseInt(Math.random() * (7 + 1));
            
            if (chanceCritico == 8) {
                var dano = 30;
                vidaInimigo_bulbasaur -= dano;
                mensagem += `Foi um golpe com acerto crítico!<br>`
                hpInimigoBulbasaur.style.width = `${vidaInimigo_bulbasaur}px`;
            } else {
                var dano = 20;
                vidaInimigo_bulbasaur -= dano;
                hpInimigoBulbasaur.style.width = `${vidaInimigo_bulbasaur}px`;
            }
        }, "1000");

        turnoInimigo_bulbasaur();

    }

    function growl_b() {

        if (efeitoGrowl == false) {
            var mensagem = 'Bulbasaur usou Growl!<br> O ataque de Rattata foi reduzido!<br>';
            div_historico_bulbasaur.innerHTML += mensagem;
            efeitoGrowl = true;
            turnoInimigo_bulbasaur();
        } else {
            var mensagem = 'Bulbasaur já utilizou Growl, ele não pode utilizar novamente<br>';
            div_historico_bulbasaur.innerHTML += mensagem;
        }

    }

    function absorb_b() {

        var mensagem = 'Bulbasaur usou Absorb!<br>';
        div_historico_bulbasaur.innerHTML += mensagem;
        setTimeout(() => {

                var dano = 15;
                vidaInimigo_bulbasaur -= dano;
                hpInimigoBulbasaur.style.width = `${vidaInimigo_bulbasaur}px`;
            
                if (hpBulbasaur.style.width < `200px`){
                    var cura = 10;
                    vidaBulbasaur += cura;
                    hpBulbasaur.style.width = `${vidaBulbasaur}px`
                }
        }, "1000");
        
        turnoInimigo_bulbasaur();
    }

    
    // Ataques do adversário (Bulbasaur)
    
    var numeroAcertos = 0;
    var acertosFurySwipes = [];
    var efeitoTailWhipInimigo = false;

    function turnoInimigo_bulbasaur() {

        var mensagem = '';
        var ataqueInimigo = 1 + parseInt(Math.random() * (2 + 1));
        
        setTimeout(() => {

            if (ataqueInimigo == 1) {
    
                if (efeitoTailWhipInimigo == true && efeitoGrowl == true) {
                    var dano = 15;
                    vidaBulbasaur -= dano;
                    hpBulbasaur.style.width = `${vidaBulbasaur}px`;
                    mensagem = 'Rattata atacou usando Tackle!<br><br>';
                } else if (efeitoTailWhipInimigo == false && efeitoGrowl == true) {
                    var dano = 10;
                    vidaBulbasaur -= dano;
                    hpBulbasaur.style.width = `${vidaBulbasaur}px`;
                    mensagem = 'Rattata atacou usando Tackle!<br><br>';
                } else if (efeitoTailWhipInimigo == true && efeitoGrowl == false) {
                    var dano = 20;
                    vidaBulbasaur -= dano;
                    hpBulbasaur.style.width = `${vidaBulbasaur}px`;
                    mensagem = 'Rattata atacou usando Tackle!<br><br>';
                } else if (efeitoTailWhipInimigo == false && efeitoGrowl == false) {
                    var dano = 15;
                    vidaBulbasaur -= dano;
                    hpBulbasaur.style.width = `${vidaBulbasaur}px`;
                    mensagem = 'Rattata atacou usando Tackle!<br><br>';
                } 
    
            } else if (ataqueInimigo == 2) {
    
                if (efeitoTailWhipInimigo == false) {
                    efeitoTailWhipInimigo = true;
                    mensagem = `Rattata atacou usando Tail Whip!<br>
                    A defesa de seu pokémon foi reduzida!<br><br>`;
                } else {
                    mensagem = `Rattata utilizou novamente Tail Whip!<br>
                    O ataque não surtiu efeito em seu pokémon!<br><br>`;
                }
    
            } else if (ataqueInimigo == 3) {
    
                for (i = 0; i < 5; i++) {
                    var acertoAtual = parseInt(Math.random() * (1 + 1));
                    acertosFurySwipes.push(acertoAtual);
                }
                
                for (i = 0; i < 5; i++) {
                    var acertoAtual = acertosFurySwipes[i];
                    if (acertoAtual == 1) {
                        numeroAcertos += 1;
                    }
                }
                mensagem = `Rattata atacou usando Fury Swipes!<br>
                Rattata atingiou ${numeroAcertos} vezes seu pokémon!<br><br>`;
            }

            div_historico_bulbasaur.innerHTML += mensagem;
            
            var dano = (numeroAcertos * 10);
            vidaBulbasaur -= dano;
            hpBulbasaur.style.width = `${vidaBulbasaur}px`;
            
            numeroAcertos = 0;
            acertosFurySwipes = [];

        }, "1000");
    }

    // Ataques do Charmander

    var vidaCharmander = 200;
    var vidaInimigo_charmander = 200;

    // Ataques do Squirtle

    var vidaSquirtle = 200;
    var vidaInimigo_squirtle = 200;

</script>